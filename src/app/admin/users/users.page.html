<ion-header [translucent]="true" collapse="fade">
  <ion-toolbar>
    <ion-title>المستخدمين</ion-title>
    <ion-buttons slot="end">
      <ion-button color="primary" (click)="openUser()">
        <ion-icon slot="icon-only" name="add"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-refresher slot="fixed" (ionRefresh)="getData($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <ion-item-sliding *ngFor="let user of data" lines="full">
    <ion-item-options side="start" *ngIf="app.user?.id!==user.id">
      <ion-item-option color="danger" expandable="true" (click)="deleteUser(user)">
        <ion-icon slot="icon-only" name="trash"></ion-icon>
      </ion-item-option>
    </ion-item-options>
    <ion-item lines="full" button (click)="openUser(user)">
      <ion-avatar slot="start">
        <img alt="Silhouette of a person's head" src="/assets/avatar.svg" />
      </ion-avatar>
      <ion-label>{{user.name}}</ion-label>
    </ion-item>
    <ion-item-options side="end">
      <ion-item-option color="primary" expandable="true" (click)="app.call(user.phone)">
        <ion-icon slot="icon-only" name="call"></ion-icon>
      </ion-item-option>
    </ion-item-options>
  </ion-item-sliding>
  <div class="h-30rem flex justify-content-center align-items-end">
    <img src="/assets/users.svg" class="w-full">
  </div>
</ion-content>